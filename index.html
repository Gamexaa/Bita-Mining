<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <!-- Telegram SDK Script - Mini App ke liye zaroori -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>ß (Bita) Mining App</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">

        <!-- Main Content Area (Dynamically Swapped) -->
        <div id="main-content">

            <!-- Home Screen -->
            <div id="home-screen" class="screen active">
                <header class="home-header">
                    <div class="balance-circle">
                        <span class="crypto-symbol">$ß</span>
                        <span id="balance">0000.0000</span>
                        <span id="usd-equivalent">( $000.00 )</span>
                    </div>
                </header>

                <main class="home-main">
                    <div class="info-grid">
                        <div class="info-box">
                            <i class="fas fa-users icon"></i>
                            <span class="label">Active referral</span>
                            <span id="active-referrals" class="value">0</span>
                        </div>
                        <div class="info-box">
                            <i class="fas fa-user-friends icon"></i>
                            <span class="label">Total referral</span>
                            <span id="total-referrals" class="value">0</span>
                        </div>
                        <div class="info-box">
                            <i class="fas fa-clock icon"></i>
                            <span class="label">Mining time left</span>
                            <span id="mining-timer" class="value">00:00:00</span>
                        </div>
                        <div class="info-box">
                            <i class="fas fa-bolt icon"></i>
                            <span class="label">Total mining speed</span>
                            <span id="mining-speed" class="value">0.015/h</span>
                        </div>
                    </div>

                    <p class="mining-instruction">Start mining every 24 hours for max ß potential !</p>

                    <button id="mining-button">Start Mining</button>
                </main>
            </div>

            <!-- Boost Screen -->
            <div id="boost-screen" class="screen">
                <h2 class="screen-title">COMPLETE TASK TO BOOST YOUR MINING SPEED</h2>
                <div class="task-list">
                    <div class="task-item">
                        <div class="task-info">
                             <span class="task-icon">ß</span> <!-- Simple B icon -->
                             <div class="task-details">
                                 <span>Join our channel</span>
                                 <span class="task-boost">0.005/h</span>
                             </div>
                        </div>
                        <button class="task-button" id="boost-task-1">Start</button>
                        <!-- Checkmark yahaan JS se add hoga -->
                    </div>
                     <!-- Add more tasks here if needed -->
                </div>
            </div>

            <!-- Friends Screen -->
             <div id="friends-screen" class="screen">
                <h2 class="screen-title invite-title">INVITE FRIENDS<br>And boost your Minning speed by +0.005/h on active miner</h2>
                 <div class="total-friends">
                     <span>Total</span>
                     <span id="friends-total-count">0 users</span>
                 </div>
                <div id="friend-list-container" class="friend-list">
                    <!-- Friend items will be added here by JS -->
                     <p id="no-friends-message" style="text-align: center; margin-top: 40px; color: #aaa;">No friends...</p>
                </div>
                 <button class="copy-link-button">Copy link</button>
            </div>

        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item" data-target="friends-screen">
                <i class="fas fa-user-friends"></i>
                <span>Friends</span>
            </button>
            <button class="nav-item active" data-target="home-screen">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </button>
            <button class="nav-item" data-target="boost-screen">
                <i class="fas fa-rocket"></i>
                <span>Boost</span>
            </button>
        </nav>
    </div>

    <!-- Firebase SDKs (app.js se pehle hone chahiye) -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <!-- Agar auth use karna ho toh add karna: <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script> -->

    <script>
      // --- Firebase Configuration ---
      // !! Important: Replace with your actual Firebase config values !!
      const firebaseConfig = {
        apiKey: "AIzaSyAhUKkVb9RRYzGckeEHaNCR48rOfNS_rXY", // Double check this key
        authDomain: "bita-mining-app.firebaseapp.com",
        projectId: "bita-mining-app",
        storageBucket: "bita-mining-app.appspot.com", // Corrected to .appspot.com (Confirm in your Firebase console)
        messagingSenderId: "383835477324",
        appId: "1:383835477324:web:608d418b8114fb2d87abe9" // Corrected: Removed extra quotes
      };

      // Initialize Firebase
      try {
          if (firebase.apps.length === 0) { // Initialize only if not already done
             firebase.initializeApp(firebaseConfig);
             console.log("Firebase Initialized!");
          } else {
             console.log("Firebase already initialized.");
          }
      } catch (e) {
          console.error("Firebase initialization failed:", e);
          // Show an error message to the user maybe?
          document.body.innerHTML = "<div style='color:white; padding: 20px;'>Error connecting to database. Please try again later.</div>";
      }
      // --- End Firebase Configuration ---
    </script>

    <!-- Aapka App Logic (Firebase init ke baad) -->
    <script src="app.js"></script>

</body>
</html>