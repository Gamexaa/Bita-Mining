<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bita Mining</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Firebase SDKs (v8 Syntax) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-functions.js"></script> <!-- Optional: If calling functions from client -->

</head>
<body>
    <!-- Loading Indicator -->
    <div id="loading-indicator">
        <!-- Ensure 'bita_logo.png' is in the same folder as index.html -->
        <img src="bita_logo.png" alt="Loading Bita Mining...">
    </div>

    <!-- Main App Structure -->
    <div class="app-container">
        <main class="main-content">
            <!-- Home Screen -->
            <div id="home-screen" class="screen active">
                <div class="top-section-home">
                    <div class="balance-circle">
                        <div class="balance-logo">$ß</div>
                        <div id="balance" class="balance-value">0000.0000</div>
                        <div id="usd-equivalent" class="usd-value">( $000.00 )</div>
                    </div>
                </div>
                <div class="info-grid">
                    <div class="info-box">
                        <div class="info-label"><i class="fa-solid fa-users"></i> Active referral</div>
                        <div id="active-referrals" class="info-value">0</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label"><i class="fa-solid fa-users"></i> Total referral</div>
                        <div id="total-referrals" class="info-value">0</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label"><i class="fa-regular fa-clock"></i> Mining time left</div>
                        <div id="mining-timer" class="info-value">00:00:00</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label"><i class="fa-solid fa-bolt"></i> Total mining speed</div>
                        <div id="mining-speed" class="info-value">0.015/h</div>
                    </div>
                </div>
                <div class="mining-action">
                    <p class="mining-instruction">Start mining every 24 hours for max ß potential !</p>
                    <button id="mining-button" class="mining-button-style">Start Mining</button>
                </div>
                <div id="error-message-area-home" class="error-message" style="display: none;"></div>
            </div>

            <!-- Friends Screen -->
            <div id="friends-screen" class="screen">
                <h2 class="screen-title">INVITE FRIENDS</h2>
                <p class="screen-subtitle">And boost your Minning speed<br>by +0.005/h on active miner</p>
                <div class="friends-total-bar">
                    <span>Total</span>
                    <span id="friends-total-count">0 users</span>
                </div>
                <div id="friend-list-container" class="friend-list">
                    <!-- Friend items loaded by JS -->
                </div>
                <p id="no-friends-message" class="no-friends-text" style="display: block;">Loading friends...</p>
                <button id="copy-link-button" class="friends-copy-button">Copy link</button>
                <div id="error-message-area-friends" class="error-message" style="display: none;"></div>
            </div>

            <!-- Boost Screen -->
            <div id="boost-screen" class="screen">
                 <h2 class="screen-title">COMPLETE TASK<br>TO BOOST<br>YOUR MINING SPEED</h2>
                 <div class="task-list">
                     <div class="task-item">
                         <div class="task-icon-boost"><i class="fa-brands fa-telegram"></i></div>
                         <div class="task-details-boost">
                             <span class="task-title">Join our channel</span>
                             <span class="task-reward">0.005/h</span>
                         </div>
                         <div id="boost-task-1-action" class="task-action-container">
                             <!-- Button/Checkmark added by JS -->
                         </div>
                     </div>
                 </div>
                  <div id="error-message-area-boost" class="error-message" style="display: none;"></div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <div class="nav-item" data-target="friends-screen">
                <i class="fa-solid fa-users"></i>
                <span>Friends</span>
            </div>
            <div class="nav-item active" data-target="home-screen">
                <i class="fa-solid fa-house"></i>
                <span>Home</span>
            </div>
            <div class="nav-item" data-target="boost-screen">
                <i class="fa-solid fa-rocket"></i>
                <span>Boost</span>
            </div>
        </nav>
    </div>

    <!-- App Logic - Load Last -->
    <script src="app.js"></script>
</body>
</html>